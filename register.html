<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>用户注册</title>
    <meta name="viewport" content="width=device-width, initial-scale=1,maximum-scale=1,user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="format-detection" content="telephone=no"/>
    <link rel="stylesheet" href="css/register.css">
</head>
<body>
<div class="content">
    <div class="item">
        <span>手机号</span><input data-id="0" type="number" placeholder="请输入手机号">
    </div>
    <div class="item">
        <span>密码</span><input data-id="1" type="text" placeholder="请输入登录密码">
    </div>
    <div class="item">
        <span>确认密码</span><input data-id="2" type="text" placeholder="请确认密码">
    </div>
    <div class="item">
        <span>邀请码</span><input data-id="3" type="text" value="JJR00234" readonly>
    </div>
    <div class="item">
        <span>验证码</span><input data-id="4" type="text" placeholder="请输入验证码">
        <button class="getCode">点击获取<i>30</i></button>
    </div>
    <div class="item-1">
        <label><input type="radio" checked value="radio"></label><span>我已阅读并同意</span><a
            href="javascript:void(0)">《风险提醒》</a>
    </div>
    <div class="item-2 submit">确认注册</div>
    <div class="item-2 gray">返回</div>
    <div class="item-3"><a href="">已有账号? 点击登录</a></div>
    <div class="tips">
        请输入手机号
    </div>
</div>
</body>
<script src="libs/jquery-1.11.3.js"></script>
<script src="libs/common.js"></script>
<script>
    var setInt = ''
    $(function () {
        //获取验证码
        $('.getCode').on('click', function () {
            $(this).attr('disabled', true).addClass('disabled').find('i').show();
            setInt = setInterval(cutTimeDown, 1000)
        });
        $('.submit').on('click', function () {
            checkInputMsg()
        })


    })

    function cutTimeDown() {
        let Time = Number($('.getCode').find('i').text());
        if (Time <= 1) {
            clearInterval(setInt);
            $('.getCode').attr('disabled', false).removeClass('disabled').find('i').text(30).hide();
        } else {
            Time--;
            Number($('.getCode').find('i').text(Time))
        }
    }

    function checkInputMsg() {
        const input = document.querySelectorAll('input')
        for (let i = 0; i < input.length; i++) {
            if (input[i].value === '' || input[i].value === null) {
                return ((i) => {
                    switch (i) {
                        case 0:
                            $.toast('请输入手机号码');
                            break;
                        case 1:
                            $.toast('请输入密码');
                            break;
                        case 2:
                            $.toast('请输入确认密码');
                            break;
                        case 3:
                            $.toast('请输入验证码');
                            break;
                        case 4:
                            $.toast('请输入验证码');
                            break;
                    }
                })(i);
                break;

            }
        }

    }

</script>
</html>